#= <br>.thick[What is deployment, anyway?]
## .thick[PyGotham 2019]
@ footer.svg

Note: breathe, Katie!

You got this

# ðŸ’ª
---
@ whatis_copy.png


Note: 
Hi! I'm katie, and this isn't the talk you're expecting. 

---

##= .thin[What this talk isn't.]

Note: 
this isn't a talk about "the way" to deploy your django app
this is a cursory overview of the state of the world as it is today

TODO: ENSURE SLIDE ACCURATLY REFLECTS SCOPE

In essense, 

---

#= .thin[What .b[is] deployment, anyway?]



Note: 
We'll discuss, well ,what is deployment, anyway? 

For our context today

---
<br><br>
# .prokyon[django] 2.2.5
# .flux[python] 3.7.4

Note: the versions I'm targetting today are specifically django 2.2.5 and python 3.7.4

If you're joining me on YouTube from the year 2027, I'm sorry, things have changed since, but hopefully you find value in this talk!

--
## no extra addons

Note: we're also just going to stick to base django

No addons, no cookiecutter templates. This talk should be useful if you're anywhere from looking at django

to having your djangogirls tutorial project working on your laptop

to a more complex setup, but no extra complexities. 

TODO: is "addons" the best word here?

---

##= Let's go!

Note: so let's get started!

---
$$terminal bash
$$prompt ~/git/glasnt/ 
$$w
---
$$terminal bash
$$prompt ~/git/glasnt/ 
$$w pip install django
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
$$w 
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
$$w django-admin startproject myproject
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
django-admin startproject myproject<br>
$$prompt ~/git/glasnt
$$w 
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
django-admin startproject myproject<br>
$$prompt ~/git/glasnt
$$w cd myproject
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
django-admin startproject myproject<br>
$$prompt ~/git/glasnt
cd myproject<br>
$$prompt ~/git/glasnt/myproject
$$w
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
django-admin startproject myproject<br>
$$prompt ~/git/glasnt
cd myproject<br>
$$prompt ~/git/glasnt/myproject
$$w ls -R
---
$$terminal bash
$$prompt ~/git/glasnt/
pip install django<br> 
Collecting django<br>
...<br>
Successfully installed django-2.2.5<br>
$$prompt ~/git/glasnt
django-admin startproject myproject<br>
$$prompt ~/git/glasnt
cd myproject<br>
$$prompt ~/git/glasnt/myproject
ls -R<br>
.:<br>
manage.py  myproject<br>
<br>
./myproject:<br>
âŽ½âŽ½init__.py  settings.py  urls.py  wsgi.py<br>
$$prompt ~/git/glasnt/myproject
$$w
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
$$w 
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
$$w python manage.py runserver

Note: so we can just runserver, right?
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
.noop[p]ython manage.py runserver<br>
Watching for file changes with StatReloader<br>
Performing system checks...<br>
System check identified no issues (0 silenced).<br><br>
.rf[You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.<br>Run 'python manage.py migrate' to apply them.]<br<br><br><br>October 04, 2019 - 17:05:24<br>
Django version 2.2.5, using settings 'myproject.settings'<br>
Starting development server at http:.noop[/]/127.0.0.1:8000/<br>
Quit the server with CONTROL-C.<br>
$$w
Note: oh, nope, big red error. 

---
$$terminal bash
$$prompt ~/git/glasnt/myproject
.noop[p]ython manage.py runserver<br>
Watching for file changes with StatReloader<br>
Performing system checks...<br>
System check identified no issues (0 silenced).<br><br>
.rf[You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.<br>Run .red['python manage.py migrate'] to apply them.]<br<br><br><br>October 04, 2019 - 17:05:24<br>
Django version 2.2.5, using settings 'myproject.settings'<br>
Starting development server at http:.noop[/]/127.0.0.1:8000/<br>
Quit the server with CONTROL-C.<br>
$$w

Note: oh yay, big red error with a helpful command!

---
$$terminal bash
$$prompt ~/git/glasnt/myproject
.noop[p]ython manage.py runserver<br>
Watching for file changes with StatReloader<br>
Performing system checks...<br>
System check identified no issues (0 silenced).<br><br>
.rf[You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.<br>Run 'python manage.py migrate' to apply them.]<br<br><br><br>October 04, 2019 - 17:05:24<br>
Django version 2.2.5, using settings 'myproject.settings'<br>
Starting development server at http:.noop[/]/127.0.0.1:8000/<br>
Quit the server with CONTROL-C.<br>
$$prompt ~/git/glasnt/myproject
$$w

Note: okay, cancel out of that..
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
.noop[p]ython manage.py runserver<br>
Watching for file changes with StatReloader<br>
Performing system checks...<br>
System check identified no issues (0 silenced).<br><br>
.rf[You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.<br>Run 'python manage.py migrate' to apply them.]<br<br><br><br>October 04, 2019 - 17:05:24<br>
Django version 2.2.5, using settings 'myproject.settings'<br>
Starting development server at http:.noop[/]/127.0.0.1:8000/<br>
Quit the server with CONTROL-C.<br>
$$prompt ~/git/glasnt/myproject
$$w python manage.py migrate
---
$$terminal bash
.cf[Operations to perform:]<br>
&nbsp; .tb[Apply all migrations:] admin, auth, contenttypes, sessions<br>
.cf[Running migrations:]<br>
&nbsp; Applying contenttypes.0001_initial... .gf[OK]<br>
&nbsp;  Applying auth.0001_initial... .gf[OK]<br>
&nbsp;  Applying admin.0001_initial... .gf[OK]<br>
&nbsp;  Applying admin.0002_logentry_remove_auto_add... .gf[OK]<br>
&nbsp;  Applying admin.0003_logentry_add_action_flag_choices... .gf[OK]<br>
&nbsp;  Applying contenttypes.0002_remove_content_type_name... .gf[OK]<br>
...<br>
&nbsp;  Applying auth.0009_alter_user_last_name_max_length... .gf[OK]<br>
&nbsp;  Applying auth.0010_alter_group_name_max_length... .gf[OK]<br>
&nbsp;  Applying auth.0011_update_proxy_permissions... .gf[OK]<br>
&nbsp;  Applying sessions.0001_initial... .gf[OK]<br>
$$prompt ~/git/glasnt/myproject
$$w
Note: oh wow, that's a lot of output. 

has anything changed? 
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
$$w
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
$$w ls -R

---
$$terminal bash
$$prompt ~/git/glasnt/myproject
ls -R<br>
.:<br>
db.sqlite3  manage.py  myproject<br>
<br>
./myproject:<br>
__init__.py  settings.py  urls.py  wsgi.py<br>
$$prompt ~/git/glasnt/myproject
$$w


---
$$terminal bash
$$prompt ~/git/glasnt/myproject
ls -R<br>
.:<br>
.red[db.sqlite3]  manage.py  myproject<br>
<br>
./myproject:<br>
__init__.py  settings.py  urls.py  wsgi.py<br>
$$prompt ~/git/glasnt/myproject
$$w
Note: oh sweet, we have a database.. I guess, based on that name. 

---
$$terminal bash
$$prompt ~/git/glasnt/myproject
$$w

Note: Okay. Let's clear that away. 

---
$$terminal bash
$$prompt ~/git/glasnt/myproject
$$w python manage.py runserver

Note: will my project run now? 
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
.noop[p]ython manage.py runserver<br>
Watching for file changes with StatReloader<br>
Performing system checks...<br><br>
System check identified no issues (0 silenced).<br>
<br>October 04, 2019 - 17:05:54<br>
Django version 2.2.5, using settings 'myproject.settings'<br>
Starting development server at http:.noop[/]/127.0.0.1:8000/<br>
Quit the server with CONTROL-C.<br>
$$w

Note: Oh neat, no more error.  
---
$$terminal bash
$$prompt ~/git/glasnt/myproject
.noop[p]ython manage.py runserver<br>
Watching for file changes with StatReloader<br>
Performing system checks...<br><br>
System check identified no issues (0 silenced).<br>
<br>October 04, 2019 - 17:05:54<br>
Django version 2.2.5, using settings 'myproject.settings'<br>
Starting development server at .red[http:.noop[/]/127.0.0.1:8000/]<br>
Quit the server with CONTROL-C.<br>
$$w

Note: and a helpful little message telling us where we're running
---
@= djangorocket.png
Note: sweet!

So now we know which bits we need
---
@= djangoadmin.png
Note: and we have the much loved django admin

---
#= .prokyon[django]
## very good local development setup

Note: we can get our app running locally really well. 
and here is why

---
runserver
https://docs.djangoproject.com/en/2.2/ref/django-admin/#runserver
do not run in production
---
<<<<<<< HEAD
> We're in the business of making Web frameworks, not Web servers
=======

#= TODO

used to be physical servers
one per person
scale. 
you'd have to worry about everything.

then virtual servers (iaas)
several per machine
you'd still have to worry about things, but not hardware


then platforms (paas)
heroku, pythonanywhere, divio
sepcific to a language 

and now containers
as containers are now standardised


For the VMS and the containers you also have to worry about 
Configuration management. Ansible chef terraform logo mess. This is too much for today's talk

>>>>>>> 579e94526fdbcec1305308a3e308dc706da57994
---
and also 

viewsource

staticfiles
https://docs.djangoproject.com/en/2.2/howto/static-files/

do not use in production

---

run django
connect to database
serve static files

---

run web framework
connect to database
serve static files

Note: very general for any web framework. 

same for a lot of things, python, or any language. 


---

go to layaercacke
---

---
#= <br>Thanks!
@ footer.svg

